!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _dataRetrieverService=__webpack_require__(1),_dataRetrieverService2=_interopRequireDefault(_dataRetrieverService),_leaderbordComponentController=__webpack_require__(2),_leaderbordComponentController2=_interopRequireDefault(_leaderbordComponentController),app=angular.module("arkadium",["ngScrollbars"]);app.config(function(ScrollBarsProvider){ScrollBarsProvider.defaults={scrollButtons:{enable:!1}}}).factory("dataRetrieverService",["$http","$q",_dataRetrieverService2["default"]]).component("leaderboardComponent",_leaderbordComponentController2["default"])},function(module,exports){"use strict";function dataRetrieverService($http,$q){var personsData={today:{},week:{},all:{}};return function(period,game){var deferred=$q.defer(),gameKey=game.id?game.id:"all",dataAddress=void 0;return personsData[period.periodKey][gameKey]?deferred.resolve(personsData[period.periodKey][gameKey]):(dataAddress=game.id?"data/"+period.periodKey+"/"+game.id+"/data.json":"data/"+period.periodKey+"/data.json",$http({method:"GET",url:dataAddress}).then(function(response){personsData[period.periodKey][gameKey]=response.data,deferred.resolve(personsData[period.periodKey][gameKey])},function(){throw new Error("Sorry, but data not found!")})),deferred.promise}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=dataRetrieverService},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_leaderboardComponentTemplate=__webpack_require__(3),_leaderboardComponentTemplate2=_interopRequireDefault(_leaderboardComponentTemplate),LeaderboardComponentController=function(){function LeaderboardComponentController($scope,$window,dataRetriever){_classCallCheck(this,LeaderboardComponentController);var _ctrl=this,_window=angular.element($window),personsScrollbarsConfigVariants={wide:{axis:"x"},narrow:{axis:"y"}};_ctrl.scope=$scope,_ctrl.dataRetriever=dataRetriever,_ctrl.personsScrollbarsConfig=_window.width()>=560?personsScrollbarsConfigVariants.wide:personsScrollbarsConfigVariants.narrow,_ctrl.gamelistScrollbarsConfig={axis:"y"},_ctrl.scope.$watch(function(){return _window.width()},function(newVal,oldVal){newVal>=560&&560>oldVal&&(_ctrl.personsScrollbarsConfig=personsScrollbarsConfigVariants.wide),560>newVal&&oldVal>=560&&(_ctrl.personsScrollbarsConfig=personsScrollbarsConfigVariants.narrow)},!0),_window.on("resize",function(){$scope.$apply()}),_ctrl.periods=[{periodKey:"today",text:"today"},{periodKey:"week",text:"this week"},{periodKey:"all",text:"all time"}],_ctrl.activePeriod=_ctrl.periods[0],_ctrl.games=[{gameKey:"all_games",text:"all games"},{id:"eggz",gameKey:"eggz_1",text:"eggz"},{id:"spider_solitaire",gameKey:"spider_solitaire_1",text:"spider solitaire"},{id:"jigsaw",gameKey:"jigsaw_1",text:"jigsaw"},{id:"eggz",gameKey:"eggz_2",text:"eggz"},{id:"spider_solitaire",gameKey:"spider_solitaire_2",text:"spider solitaire"},{id:"jigsaw",gameKey:"jigsaw_2",text:"jigsaw"},{id:"eggz",gameKey:"eggz_3",text:"eggz"},{id:"spider_solitaire",gameKey:"spider_solitaire_3",text:"spider solitaire"},{id:"jigsaw",gameKey:"jigsaw_3",text:"jigsaw"},{id:"eggz",gameKey:"eggz_4",text:"eggz"},{id:"spider_solitaire",gameKey:"spider_solitaire_4",text:"spider solitaire"},{id:"jigsaw",gameKey:"jigsaw_4",text:"jigsaw"},{id:"spider_solitaire",gameKey:"spider_solitaire_5",text:"spider solitaire"}],_ctrl.activeGame=_ctrl.games[0],_ctrl.leaderboard=[],_ctrl.getData(_ctrl.activePeriod,_ctrl.activeGame)}return _createClass(LeaderboardComponentController,[{key:"toggleGameList",value:function(){angular.element("body").toggleClass("gamelist-opened")}},{key:"setActivePeriod",value:function(obj,e){this.activePeriod!==obj&&(this.activePeriod=obj,this.getData(this.activePeriod,this.activeGame),this.updateScrollbar("scrollTo",0)),e.preventDefault()}},{key:"setActiveGame",value:function(obj,e){this.activeGame!==obj&&(this.activeGame=obj,this.getData(this.activePeriod,this.activeGame),this.updateScrollbar("scrollTo",0)),e.preventDefault()}},{key:"getData",value:function(period,game){var _this=this;this.dataRetriever(period,game).then(function(data){_this.leaderboard=data})}}]),LeaderboardComponentController}(),leaderboardComponentDefinition={template:_leaderboardComponentTemplate2["default"],controller:["$scope","$window","dataRetrieverService",LeaderboardComponentController]};exports["default"]=leaderboardComponentDefinition},function(module,exports){module.exports='<div class="leaderboard">\r\n    <div class="leaderboard__header clearfix">\r\n        <div class="leaderboard__logo">LEADERBOARD</div>\r\n        <button class="leaderboard__nav-ctrl" ng-click="$ctrl.toggleGameList()">Toggle gamelist<span></span></button>\r\n        <ul class="leaderboard__tab-ctrl leaderboard__tab-ctrl_wide">\r\n            <li class="leaderboard__tab-item"\r\n                ng-repeat="period in $ctrl.periods"\r\n                ng-class="{\'leaderboard__tab-item_active\' : (period === $ctrl.activePeriod) }">\r\n                <a href="#" class="leaderboard__tab-link" ng-click="$ctrl.setActivePeriod(period,$event)">{{period.text}}</a>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n    <ul class="leaderboard__tab-ctrl leaderboard__tab-ctrl_narrow">\r\n        <li class="leaderboard__tab-item"\r\n            ng-repeat="period in $ctrl.periods"\r\n            ng-class="{\'leaderboard__tab-item_active\' : (period === $ctrl.activePeriod) }">\r\n\r\n            <a href="#" class="leaderboard__tab-link"\r\n               ng-click="$ctrl.setActivePeriod(period,$event)">\r\n                {{period.text}}\r\n            </a>\r\n        </li>\r\n    </ul>\r\n    <div class="leaderboard__persons" ng-scrollbars ng-scrollbars-update="$ctrl.updateScrollbar" ng-scrollbars-config="$ctrl.personsScrollbarsConfig" >\r\n        <ul class="leaderboard__list">\r\n            <li class="leaderboard__item" ng-repeat="item in $ctrl.leaderboard | orderBy: \'-game_count\'">\r\n                <div class="leaderboard__card clearfix"\r\n                     ng-class="{\r\n                        leaderboard__card_gold: $index === 0,\r\n                        leaderboard__card_silver: $index === 1,\r\n                        leaderboard__card_bronze: $index === 2\r\n                     }">\r\n                    <div class="leaderboard__card-badge" ng-if="$index < 3"></div>\r\n                    <div class="leaderboard__card-position">{{$index + 1}}</div>\r\n                    <div class="leaderboard__card-border">\r\n                        <div class="leaderboard__card-cover">\r\n                            <img ng-src="{{item.img_src}}" alt="{{item.first_name}} {{item.last_name}}" width="73" height="73">\r\n                        </div>\r\n                    </div>\r\n                    <div class="leaderboard__card-fullname">\r\n                        {{item.first_name}}<br />{{item.last_name}}\r\n                    </div>\r\n                    <div class="leaderboard__card-count">\r\n                        {{item.game_count}}\r\n                    </div>\r\n                </div>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n    <div class="leaderboard__games" ng-scrollbars ng-scrollbars-config = "$ctrl.gamelistScrollbarsConfig" >\r\n        <ul class="leaderboard__gamelist">\r\n            <li class="leaderboard__gamelist-item"\r\n                ng-repeat="game in $ctrl.games"\r\n                ng-class="{\'leaderboard__gamelist-item_active\' : (game === $ctrl.activeGame)}">\r\n\r\n                <a href="#" class="leaderboard__gamelist-link"\r\n                   ng-click="$ctrl.setActiveGame(game, $event)">\r\n                    {{game.text}}\r\n                </a>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n</div>'}]);